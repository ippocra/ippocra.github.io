<head>
    <meta charset="utf-8">
    <title>Gestisci, confronta e tieni traccia di tutti i tuoi referti in un unico posto</title>
    <script src="https://unpkg.com/lucide@latest"></script>

    <meta name="description"
        content="Securely manage and share your health records with Ippocra. Smart search, automatic organization, and secure sharing at your fingertips.">

    <link rel="stylesheet" href="{{ '/assets/css/fontawesome-free/css/all.min.css' | relative_url }}">
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>

<body class="text-slate-700 antialiased">
    <main id="main-content">
        <!-- Hero Section -->
        <section id="hero" class="section-blank">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <div class="animate-fadeInUp" style="opacity:0;">
                    <h1 class="page-title">
                        Un nuovo modo per fidelizzare i pazienti e gestire i referti
                    </h1>
                    <div class="mt-6 max-w-2xl mx-auto leading-relaxed">
                        <p class="paragraph-lg">
                            Mantieni i tuoi clienti soddisfatti offrendo loro un sistema semplice e sicuro per gestire i
                            referti medici. Con Ippocra Business, puoi migliorare l'efficienza della tua clinica e
                            aumentare la fidelizzazione dei pazienti.
                        </p>
                    </div>
                    <div class="mt-10 hero-button-container">
                        <a href="#wantIppo" class="secondary-button">
                            Prenota una demo
                        </a>
                        <a href="https://app.ippocra.com/register" target="_blank" rel="noopener noreferrer"
                            class="main-color-button">
                            Provalo
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                                class="w-5 h-5 ml-2 -rotate-45">
                                <path fill-rule="evenodd"
                                    d="M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z"
                                    clip-rule="evenodd" />
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Used by -->
        <!-- <section id="usedby" class="section-blank">
            <div class="logo-carousel">
                <div class="logo-track">
                    <-- ==== First copy ================================================= --
                    <img class="logo-item" src="assets/images/medical-campus-logo.png" alt="Logo 1">
                    <-- ==== Second copy (identical) ===================================== --
                    <img class="logo-item" src="assets/images/medical-campus-logo.png" alt="Logo 1">
                </div>
            </div>
        </section> -->

        <!-- Benefits Section -->



        <section id="fse" class="section-main-hard-gradient scroll-target">
            <div class="flex flex-col items-center section-container">
                <div class="scroll-animated-item">
                    <p class="mt-0 mb-0 text-white text-center paragraph-md">
                        Valorizza il tuo marchio
                    </p>
                    <h2 class="mt-0 section-title text-white text-center">
                        Aumenta la fidelizzazione dei pazienti
                    </h2>
                    <p class="mt-7 text-white text-center paragraph-md">
                        Personalizza ogni referto con il branding della tua clinica, incluso logo e informazioni di
                        contatto.
                        Con il Piano Sponsorizzato, i pazienti possono mantenere l'accesso a Ippocra tornando nella
                        tua clinica almeno una volta all'anno. Questo mantiene disponibile la loro storia clinica e
                        ti aiuta a migliorare la fidelizzazione.
                    </p>
                </div>

                <div class="mt-10 image-frame scroll-animated-item">
                    <img src="assets/images/business-images/sponsored_plan-it.png" alt="Sponsored Link">
                </div>
            </div>
        </section>

        <!-- How We Speed ​​Up Your Clinic -->
        <section id="features" class="section-main-soft-gradient scroll-target">
            <div class="section-container">
                <h2 class="mt-0 section-title text-center scroll-animated-item">
                    Funzionalità principali
                </h2>

                <div class="mt-20 icon-grid scroll-animated-item scroll-animated-item-3">

                    <!-- Intelligent Search -->
                    <div class="mb-5 p-5">
                        <div class="justify-center text-center">
                            <i class="fas fa-search small-icon-size"></i>
                        </div>
                        <h3 class="section-header text-center">
                            Ricerca intelligente
                        </h3>
                        <p class="paragraph-md text-center">
                            Trova qualsiasi referto in pochi secondi, anche tra migliaia di documenti.
                        </p>
                    </div>

                    <!-- Data Analysis -->
                    <div class="mb-5 p-5">
                        <div class="justify-center text-center">
                            <i class="fas fa-chart-bar small-icon-size"></i>
                        </div>
                        <h3 class="section-header text-center">
                            Storico dati
                        </h3>
                        <p class="paragraph-md text-center">
                            Tieni tutto lo storico sempre a portata di mano per consultazioni rapide.
                        </p>
                    </div>

                    <!-- Seamless Synchronization -->
                    <div class="mb-5 p-5">
                        <div class="justify-center text-center">
                            <i class="fas fa-sync-alt small-icon-size"></i>
                        </div>
                        <h3 class="section-header text-center">
                            Analisi aziendale
                        </h3>
                        <p class="paragraph-md text-center">
                            Monitoraggio costante del volume di documenti, delle spedizioni e delle prestazioni.
                        </p>
                    </div>

                    <!-- Patient Notifications -->
                    <div class="mb-5 p-5">
                        <div class="justify-center text-center">
                            <i class="fas fa-bell small-icon-size"></i>
                        </div>
                        <h3 class="section-header text-center">
                            Notifiche automatiche
                        </h3>
                        <p class="paragraph-md text-center">
                            Ogni paziente riceve una notifica immediata per il nuovo referto, con meno chiamate e
                            maggiore soddisfazione.
                        </p>
                    </div>

                    <!-- Team Collaboration -->
                    <div class="mb-5 p-5">
                        <div class="justify-center text-center">
                            <i class="fas fa-users small-icon-size"></i>
                        </div>
                        <h3 class="section-header text-center">
                            Collaborazione del team
                        </h3>
                        <p class="paragraph-md text-center">
                            Medici e amministratori condividono l'accesso e cooperano senza intoppi, eliminando
                            ridondanze e confusione.
                        </p>
                    </div>

                    <!-- Advanced Access Control -->
                    <div class="mb-5 p-5">
                        <div class="justify-center text-center">
                            <i class="fas fa-lock small-icon-size"></i>
                        </div>
                        <h3 class="section-header text-center">
                            Accesso sicuro
                        </h3>
                        <p class="paragraph-md text-center">
                            Gestione delle autorizzazioni per evitare rischi e garantire la sicurezza dei dati.
                        </p>
                    </div>

                </div>
            </div>
        </section>


        <!-- Connector -->
        <section id="connector" class="section-blank scroll-target">
            <div class="flex flex-row section-container scroll-animated-item">
                <div class="card-info">
                    <h2 class="mt-0 section-title">Si integra con il tuo ERP</h2>
                    <p class="mt-7 paragraph-md paragraph-bold">
                        Ippocra si collega nativamente ai principali software clinici: importa e gestisci i dati senza
                        cambiare abitudini o interrompere i flussi. Zero stress, solo efficienza.
                    </p>
                    <a href="#wantIppo" class="mt-7 secondary-button">
                        Prenota una demo
                    </a>
                </div>

                <div class="p-16 max-w-sm card-image scroll-animated-item">
                    <img class="w-full" src="assets/images/ippo-outline-green.png" alt="ippo">
                </div>
            </div>
        </section>


        <!-- join -->
        <section id="join" class="section-accent-soft-gradient scroll-target">
            <div class="text-center section-container">
                <div class="scroll-animated-item">
                    <h2 class="mt-0 section-title text-center">Gestione dei referti che semplifica il lavoro</h2>
                    <p class="mt-7 mb-0 text-center paragraph-md paragraph-bold">
                        Con Ippocra ottieni il pieno controllo della gestione dei referti: risparmiando tempo, riducendo
                        errori e migliorando il servizio, dando serenità a pazienti e personale.
                    </p>
                    <a href="https://app.ippocra.com/a/en/register" target="_blank" rel="noopener noreferrer"
                        class="mt-10 main-color-button">
                        Inizia la prova gratuita

                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
                            class="w-5 h-5 ml-2 -rotate-45">
                            <path fill-rule="evenodd"
                                d="M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z"
                                clip-rule="evenodd" />
                        </svg>
                    </a>
                </div>
                <div class="mt-10 image-frame scroll-animated-item">
                    <img class="w-full" src="assets/images/business-images/analytics-it.png" alt="Analytics">
                </div>
            </div>

        </section>

        <!-- Want Ippocra? -->
        <section id="wantIppo" class="section-main-hard-gradient">
            <div class="section-container max-w-6xl mx-auto px-4">
                <div class="flex flex-col lg:flex-row gap-10">

                    <!-- ==================== LEFT COLUMN – INFO ==================== -->
                    <div class="flex flex-col w-full lg:w-2/5 space-y-8">

                        <!-- Title & Intro -->
                        <div class="text-center lg:text-left">
                            <h2 class="mt-0 section-title">
                                Vuoi provare Ippocra nella tua clinica?
                            </h2>
                            <p class="mt-7 text-white paragraph-md">
                                Prenota una demo su misura e scopri come organizzare e gestire i tuoi referti in modo
                                efficiente.
                            </p>
                        </div>

                        <!-- Contact Info -->
                        <div class="mt-10 grid gap-3 text-white">

                            <!-- Email -->
                            <div class="flex items-center gap-3 text-white">
                                <i class="fas fa-envelope fa-lg"></i>
                                <a href="mailto:info@ippocra.com" class="text-white hover:underline">
                                    info@ippocra.com
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- ==================== RIGHT COLUMN – FORM ==================== -->
                    <div class="contact-form lg:w-3/5 space-y-8">
                        <h2 class="mt-0 section-header">Richiedi una demo gratuita</h2>

                        <form id="ippocraForm" method="POST"
                            action="https://hook.eu2.make.com/kmko599vdgvoi5xyyttkq4h2g3b9uys9"
                            class="mt-10 p-0 mb-0 grid gap-4">

                            <!-- Name -->
                            <div>
                                <label for="name" class="sr-only">Nome</label>
                                <input type="text" id="name" name="name" class="input-field" required
                                    placeholder="Il tuo nome">
                            </div>

                            <div>
                                <label for="lastname" class="sr-only">Cognome</label>
                                <input type="text" id="lastname" name="lastname" class="input-field" required
                                    placeholder="Il tuo cognome">
                            </div>

                            <!-- Email -->
                            <div>
                                <label for="email" class="sr-only">Indirizzo email</label>
                                <input type="email" id="email" name="email" class="input-field"
                                    pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" required
                                    placeholder="email@esempio.com">
                            </div>

                            <!-- Phone -->
                            <div>
                                <label for="phone_prefix" class="sr-only">Prefisso internazionale</label>
                                <div class="flex gap-2 items-center">
                                    <!-- smaller prefix select -->
                                    <select id="phone_prefix" name="phone_prefix" class="input-field flex-2 w-2"
                                        aria-label="Prefisso internazionale">
                                        <option value="0039">0039</option>
                                        <option value="001">001</option>
                                        <option value="0044">0044</option>
                                        <option value="0049">0049</option>
                                        <option value="0033">0033</option>
                                        <option value="0034">0034</option>
                                        <option value="007">007</option>
                                        <option value="0061">0061</option>
                                        <option value="other">Altro…</option>
                                    </select>

                                    <!-- larger phone input (takes remaining space) -->
                                    <input type="tel" id="phone" name="phone" class="input-field flex-3 min-w-3"
                                        inputmode="tel" pattern="[0-9]*" required placeholder="Telefono (solo numeri)">
                                </div>

                                <!-- campo per inserire un prefisso personalizzato quando si sceglie "Altro" -->
                                <div id="phone_prefix_custom_wrap" class="mt-2 hidden">
                                    <label for="phone_prefix_custom" class="sr-only">Prefisso personalizzato</label>
                                    <input type="text" id="phone_prefix_custom" name="phone_prefix_custom"
                                        class="input-field w-20" placeholder="0039" inputmode="tel"
                                        aria-label="Prefisso personalizzato">
                                </div>
                            </div>

                            <!-- Message / Demo request -->
                            <div>
                                <label for="message" class="sr-only">Messaggio</label>
                                <textarea id="message" name="message" rows="4" class="input-field" required
                                    placeholder="Raccontaci qualcosa sulla tua clinica e cosa vorresti vedere"></textarea>
                            </div>

                            <!-- Submit button -->
                            <div class="text-center">
                                <button class="submit-button" type="submit">
                                    Richiedi la demo
                                </button>
                            </div>
                        </form>

                        <div id="thanksMsg" class="hidden text-center text-green-600 font-medium mt-4">
                            Grazie! Abbiamo ricevuto la tua richiesta.
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- FAQ -->
        <section id="faq" class="section-transparent">
            <div class="section-container">
                <div class="flex flex-col">
                    <div>
                        <h2 class="mt-0 section-title text-center">
                            Domande frequenti
                        </h2>
                        <p class="mt-7 paragraph-md">
                            Se hai altre domande, contattaci e saremo felici di rispondere a qualsiasi tua richiesta.
                        </p>
                    </div>
                </div>

                <!-- FAQ List -->
                <div class="mt-10 faq-list">

                    <details class="faq-item">
                        <summary class="faq-question">
                            Come fa Ippocra a far risparmiare tempo?
                        </summary>
                        <div class="faq-answer">
                            I medici possono scrivere, archiviare e inviare referti tutto in un unico posto, senza usare
                            più dispositivi o software. Questo riduce la complessità e il tempo impiegato nella gestione
                            dei referti.
                        </div>
                    </details>

                    <details class="faq-item">
                        <summary class="faq-question">
                            Ho bisogno di un team tecnico per usare Ippocra?
                        </summary>
                        <div class="faq-answer">
                            No, la piattaforma è pronta all'uso per qualsiasi membro del tuo staff. Non richiede
                            competenze tecniche per scrivere e inviare referti in modo sicuro. Ippocra è pensata per i
                            medici e viene continuamente migliorata in base ai vostri feedback.
                        </div>
                    </details>

                    <details class="faq-item">
                        <summary class="faq-question">
                            Come aumenta Ippocra la fidelizzazione dei pazienti?
                        </summary>
                        <div class="faq-answer">
                            Personalizziamo i link dei referti con il tuo logo e le tue informazioni di contatto. I
                            pazienti che creano account dai tuoi referti sono inoltre incentivati a tornare: i pazienti
                            di ritorno ottengono l'estensione dei loro piani Ippocra.
                        </div>
                    </details>

                    <details class="faq-item">
                        <summary class="faq-question">
                            È difficile integrare Ippocra con il nostro software gestionale?
                        </summary>
                        <div class="faq-answer">
                            No, Ippocra si integra con i sistemi più comunemente utilizzati senza interventi complessi.
                            L'integrazione con il tuo gestionale è semplice e riceverai supporto in ogni fase dal nostro
                            team tecnico.
                        </div>
                    </details>

                </div>
                <!-- FAQ List END -->
            </div>
        </section>
    </main>

    <script>
        // Initial load animations for hero
        document.addEventListener('DOMContentLoaded', () => {
            const heroContent = document.querySelector('#hero .animate-fadeInUp');
            if (heroContent) heroContent.style.opacity = '1';

            const ctaSectionContent = document.querySelector('.cta-bg-gradient .animate-fadeInUp');
            if (ctaSectionContent) ctaSectionContent.style.opacity = '1';
        });

        // Fade in elements on initial load
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.animate-fadeInUp').forEach(el => {
                el.style.opacity = '1';
            });
        });


        // Generic function to observe and animate sections
        function observeAndAnimate(selector, visibleClass = 'is-visible', threshold = 0.1) {
            const el = document.querySelector(selector);
            if (!el) return;

            const observer = new IntersectionObserver((entries) => {
                const entry = entries[0];
                if (entry.isIntersecting) {
                    el.classList.add(visibleClass);
                    observer.unobserve(el); // Stop observing after it becomes visible
                }
            }, { threshold });

            observer.observe(el);
        }

        observeAndAnimate('#whyippo');
        observeAndAnimate('#fse');
        observeAndAnimate('#features');
        observeAndAnimate('#connector');
        observeAndAnimate('#join');
        observeAndAnimate('#faq');

        lucide.createIcons();
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const form = document.getElementById('ippocraForm');
            if (!form) return;

            const btn = form.querySelector('button[type="submit"]') || form.querySelector('.submit-button');
            const thanks = document.getElementById('thanksMsg');

            const phoneEl = document.getElementById('phone');
            const prefixEl = document.getElementById('phone_prefix');
            const customWrap = document.getElementById('phone_prefix_custom_wrap');
            const customEl = document.getElementById('phone_prefix_custom');

            // show/hide custom prefix input when user selects "Altro"
            if (prefixEl && customWrap && customEl) {
                const toggleCustom = () => {
                    if (prefixEl.value === 'other') {
                        customWrap.classList.remove('hidden');
                        customEl.required = true;
                        customEl.focus();
                    } else {
                        customWrap.classList.add('hidden');
                        customEl.required = false;
                        customEl.value = '';
                    }
                };
                prefixEl.addEventListener('change', toggleCustom);
                toggleCustom();
            }

            // keep phone input numeric while typing
            if (phoneEl) {
                phoneEl.addEventListener('input', (e) => {
                    const cleaned = e.target.value.replace(/\D/g, '');
                    if (e.target.value !== cleaned) e.target.value = cleaned;
                });
            }

            form.addEventListener('submit', async (e) => {
                e.preventDefault();                 // blocchiamo il submit tradizionale

                if (btn) {
                    btn.disabled = true;                // evitiamo doppi click
                    btn.dataset.originalText = btn.innerHTML;
                    btn.innerHTML = '<svg class="animate-spin h-5 w-5 mr-2 inline-block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"/></svg> Invio…';
                }

                try {
                    // costruisci FormData e concatena prefisso+numero (solo cifre, senza spazi)
                    const formData = new FormData(form);

                    // escape della descrizione/messaggio per essere valido come stringa JSON
                    const messageEl = form.querySelector('#message');
                    if (messageEl) {
                        const rawMsg = messageEl.value || '';
                        // JSON.stringify produce una stringa quotata e correttamente escape-ata;
                        // rimuoviamo le virgolette esterne per ottenere il contenuto escape-ato.
                        const escapedMsg = JSON.stringify(rawMsg).slice(1, -1);
                        formData.set('message', escapedMsg);
                    }

                    // determina prefisso (select o custom)
                    let prefixValue = '';
                    if (prefixEl) {
                        if (prefixEl.value === 'other' && customEl) {
                            prefixValue = customEl.value || '';
                        } else {
                            prefixValue = prefixEl.value || '';
                        }
                    }

                    // prendi il numero locale e mantieni solo le cifre
                    const rawPhone = phoneEl ? phoneEl.value : '';
                    const digitsOnlyPhone = (rawPhone || '').replace(/\D/g, '');

                    // valida che il numero locale contenga esattamente 7 cifre
                    if (digitsOnlyPhone.length !== 7) {
                        throw new Error('Telefono non valido: il numero locale deve contenere esattamente 7 cifre');
                    }

                    // combina prefisso + numero (solo cifre)
                    const combined = (prefixValue + digitsOnlyPhone).replace(/\D/g, '');

                    if (!combined) throw new Error('Telefono non valido');

                    // sovrascrivi il campo phone con il valore combinato (solo cifre)
                    formData.set('phone', combined);
                    // rimuovi i singoli campi legati al prefisso per evitare duplicati
                    formData.delete('phone_prefix');
                    formData.delete('phone_prefix_custom');

                    const response = await fetch(form.action, {
                        method: 'POST',
                        body: formData,
                    });

                    if (!response.ok) {
                        let errMsg = `Errore ${response.status}`;
                        const ct = response.headers.get('content-type') || '';
                        if (ct.includes('application/json')) {
                            const data = await response.json();
                            errMsg += ': ' + (data.message || JSON.stringify(data));
                        } else {
                            const txt = await response.text();
                            errMsg += ': ' + txt;
                        }
                        throw new Error(errMsg);
                    }

                    // consume JSON if present
                    const ct = response.headers.get('content-type') || '';
                    if (ct.includes('application/json')) {
                        await response.json();
                    }

                    // Success
                    form.reset();
                    if (thanks) {
                        thanks.classList.remove('hidden');
                        setTimeout(() => thanks.classList.add('hidden'), 5000);
                    }
                } catch (err) {
                    console.error('Submit fallito:', err);
                    // mostra il messaggio d'errore specifico se presente
                    alert(err && err.message ? err.message : 'Si è verificato un problema durante l\'invio. Per favore riprova più tardi.');
                } finally {
                    if (btn) {
                        btn.disabled = false;
                        btn.innerHTML = btn.dataset.originalText || 'Invia';
                    }
                }
            });
        });
    </script>
</body>